{"ast":null,"code":"import _regeneratorRuntime from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import\"../Profile/Profile.css\";import NavBar from\"../NavBar/NavBar\";import axios from'axios';import Tabs from'./Tabs/Tabs';import'react-toastify/dist/ReactToastify.css';import{ToastContainer}from'../toast';import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];useEffect(function(){var token=localStorage.getItem('token');axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/profile/\"),{headers:{Authorization:token}}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setName(res.data.name);setUser(res.data);case 2:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(error){navigate('/login');});},[]);function logout(){localStorage.removeItem('token');navigate('/login');}return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(NavBar,{name:name,logout:logout}),/*#__PURE__*/_jsx(Tabs,{user:user})]});}export default Profile;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","NavBar","axios","Tabs","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Profile","navigate","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","user","setUser","token","localStorage","getItem","get","concat","process","env","REACT_APP_BACKEND_URL","headers","Authorization","then","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","data","stop","_x","apply","arguments","catch","error","logout","removeItem","className","children"],"sources":["D:/VSCode/Project_Market_Place/client/src/components/Profile/profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport \"../Profile/Profile.css\";\r\nimport NavBar from \"../NavBar/NavBar\";\r\nimport axios from 'axios';\r\nimport Tabs from './Tabs/Tabs';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {ToastContainer} from '../toast';\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction Profile() {\r\n    const navigate = useNavigate();\r\n    const [name, setName] = useState(\"\");\r\n    const [user, setUser] = useState();\r\n    useEffect(()=>{\r\n        \r\n        const token = localStorage.getItem('token');\r\n            axios.get( `${process.env.REACT_APP_BACKEND_URL}/profile/`, { headers : {\r\n                Authorization: token,\r\n            }}).then(async (res) =>{\r\n                setName(res.data.name);\r\n                setUser(res.data);\r\n            })\r\n            .catch((error) => \r\n            {\r\n                navigate('/login');\r\n            });\r\n    },[]);\r\n\r\n    function logout(){\r\n        localStorage.removeItem('token');\r\n        navigate('/login');\r\n    }\r\n\r\n    return <div className=\"main\">\r\n        <ToastContainer/>\r\n        <NavBar\r\n            name={name}\r\n            logout={logout}\r\n        />\r\n        <Tabs \r\n            user={user}\r\n        />\r\n    </div>\r\n}\r\n\r\nexport default Profile;"],"mappings":"iYAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,wBAAwB,CAC/B,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,aAAa,CAE9B,MAAO,uCAAuC,CAC9C,OAAQC,cAAc,KAAO,UAAU,CACvC,OAASC,KAAK,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACf,GAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,IAAAY,SAAA,CAAwBd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAwBnB,QAAQ,CAAC,CAAC,CAAAoB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpBrB,SAAS,CAAC,UAAI,CAEV,GAAM,CAAAwB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACvCrB,KAAK,CAACsB,GAAG,IAAAC,MAAA,CAAKC,OAAO,CAACC,GAAG,CAACC,qBAAqB,cAAa,CAAEC,OAAO,CAAG,CACpEC,aAAa,CAAET,KACnB,CAAC,CAAC,CAAC,CAACU,IAAI,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOC,GAAG,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACf1B,OAAO,CAACqB,GAAG,CAACM,IAAI,CAAC5B,IAAI,CAAC,CACtBK,OAAO,CAACiB,GAAG,CAACM,IAAI,CAAC,CAAC,wBAAAH,QAAA,CAAAI,IAAA,MAAAR,OAAA,GACrB,mBAAAS,EAAA,SAAAb,IAAA,CAAAc,KAAA,MAAAC,SAAA,QAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CACb,CACItC,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,CAAC,CACV,CAAC,CAAC,EAAE,CAAC,CAEL,QAAS,CAAAuC,MAAMA,CAAA,CAAE,CACb5B,YAAY,CAAC6B,UAAU,CAAC,OAAO,CAAC,CAChCxC,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAEA,mBAAOF,KAAA,QAAK2C,SAAS,CAAC,MAAM,CAAAC,QAAA,eACxB9C,IAAA,CAACH,cAAc,GAAC,CAAC,cACjBG,IAAA,CAACN,MAAM,EACHc,IAAI,CAAEA,IAAK,CACXmC,MAAM,CAAEA,MAAO,CAClB,CAAC,cACF3C,IAAA,CAACJ,IAAI,EACDgB,IAAI,CAAEA,IAAK,CACd,CAAC,EACD,CAAC,CACV,CAEA,cAAe,CAAAT,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}