{"ast":null,"code":"import { processLayer } from \"./transformationProcessing/processLayer\";\nimport { process_if } from \"./transformationProcessing/processIf\";\nimport { toArray } from \"./utils/toArray\";\nimport { processRadius } from \"./transformationProcessing/processRadius\";\nimport { isObject } from \"./utils/isObject\";\nimport { processCustomFunction } from \"./transformationProcessing/processCustomFunction\";\nimport { processCustomPreFunction } from \"./transformationProcessing/processCustomPreFunction\";\nimport { splitRange } from \"./utils/splitRange\";\nimport { legacyNormalizeExpression } from \"./utils/legacyNormalizeExpression\";\nimport { normRangeValues } from \"./utils/norm_range_values\";\nimport { processVideoParams } from \"./transformationProcessing/processVideoParams\";\n/**\n * Things dropped\n * - responsive_width\n * - config().dpr\n * - SSL Detected\n * - Provisioning API\n * - Magical configuration auto-mapping (everything has to be explicit)\n * - Signatures\n * - Secure is default true\n * @param transformationOptions\n */\nexport function generateTransformationString(transformationOptions) {\n  if (typeof transformationOptions === 'string') {\n    return transformationOptions;\n  }\n  if (Array.isArray(transformationOptions)) {\n    return transformationOptions.map(singleTransformation => {\n      return generateTransformationString(singleTransformation);\n    }).filter(a => {\n      console.log(a);\n      return a;\n    }).join('/');\n  }\n  // let responsive_width = consumeOption(transformationOptions, \"responsive_width\", config().responsive_width);\n  let width;\n  let height;\n  const size = transformationOptions.size;\n  const hasLayer = transformationOptions.overlay || transformationOptions.underlay;\n  const crop = transformationOptions.crop;\n  const angle = toArray(transformationOptions.angle).join(\".\");\n  const background = (transformationOptions.background || '').replace(/^#/, \"rgb:\");\n  const color = (transformationOptions.color || '').replace(/^#/, \"rgb:\");\n  const flags = toArray(transformationOptions.flags || []).join('.');\n  const dpr = transformationOptions.dpr;\n  const overlay = processLayer(transformationOptions.overlay);\n  const radius = processRadius(transformationOptions.radius);\n  const underlay = processLayer(transformationOptions.underlay);\n  const ifValue = process_if(transformationOptions.if);\n  const custom_function = processCustomFunction(transformationOptions.custom_function);\n  const custom_pre_function = processCustomPreFunction(transformationOptions.custom_pre_function);\n  // These will change down the line, heads up!\n  let fps = transformationOptions.fps;\n  let namedTransformations = [];\n  let childTransformations = toArray(transformationOptions.transformation || []);\n  let effect = transformationOptions.effect;\n  // TODO, Do we need this?\n  const no_html_sizes = hasLayer || angle || crop === \"fit\" || crop === \"limit\";\n  if (size) {\n    const [sizeWidth, sizeHeight] = size.split(\"x\");\n    width = sizeWidth;\n    height = sizeHeight;\n  } else {\n    width = transformationOptions.width;\n    height = transformationOptions.height;\n  }\n  if (width && (width.toString().indexOf(\"auto\") === 0 || no_html_sizes || parseFloat(width.toString()) < 1)) {\n    delete transformationOptions.width;\n  }\n  if (height && (no_html_sizes || parseFloat(height.toString()) < 1)) {\n    delete transformationOptions.height;\n  }\n  // Is any child transformation an object?\n  const isAnyChildAnObject = childTransformations.some(transformation => typeof transformation === 'object');\n  // If array of objects, or array of strings?\n  if (isAnyChildAnObject) {\n    childTransformations = childTransformations.map(transformation => {\n      if (isObject(transformation)) {\n        return generateTransformationString(transformation);\n      } else {\n        return generateTransformationString({\n          transformation\n        });\n      }\n    }).filter(a => a);\n  } else {\n    namedTransformations = childTransformations.join(\".\");\n    childTransformations = []; // Reset child transfomrations\n  }\n\n  if (Array.isArray(effect)) {\n    effect = effect.join(\":\");\n  } else if (isObject(effect)) {\n    effect = Object.entries(effect).map(_ref => {\n      let [key, value] = _ref;\n      return `${key}:${value}`;\n    });\n  }\n  let border = transformationOptions.border;\n  if (isObject(border)) {\n    border = `${border.width != null ? border.width : 2}px_solid_${(border.color != null ? border.color : \"black\").replace(/^#/, 'rgb:')}`;\n  } else {\n    // @ts-ignore\n    if (/^\\d+$/.exec(border)) {\n      // fallback to html border attributes\n      transformationOptions.border = border;\n      border = void 0;\n    }\n  }\n  if (Array.isArray(fps)) {\n    fps = fps.join('-');\n  }\n  // ocr(value) {\n  //   return this.param(value, \"ocr\", \"ocr\");\n  // }\n  const urlParams = {\n    a: legacyNormalizeExpression(angle),\n    ar: legacyNormalizeExpression(transformationOptions.aspect_ratio),\n    b: background,\n    bo: border,\n    c: crop,\n    co: color,\n    dpr: legacyNormalizeExpression(dpr),\n    e: legacyNormalizeExpression(effect),\n    fl: flags,\n    fn: custom_function || custom_pre_function,\n    fps: fps,\n    h: legacyNormalizeExpression(height),\n    ki: legacyNormalizeExpression(transformationOptions.keyframe_interval),\n    l: overlay,\n    o: legacyNormalizeExpression(transformationOptions.opacity),\n    q: legacyNormalizeExpression(transformationOptions.quality),\n    r: radius,\n    t: namedTransformations,\n    u: underlay,\n    w: legacyNormalizeExpression(width),\n    x: legacyNormalizeExpression(transformationOptions.x),\n    y: legacyNormalizeExpression(transformationOptions.y),\n    z: legacyNormalizeExpression(transformationOptions.zoom),\n    ac: transformationOptions.audio_codec,\n    af: transformationOptions.audio_frequency,\n    br: transformationOptions.bit_rate,\n    cs: transformationOptions.color_space,\n    d: transformationOptions.default_image,\n    dl: transformationOptions.delay,\n    dn: transformationOptions.density,\n    du: normRangeValues(transformationOptions.duration),\n    eo: normRangeValues(splitRange(transformationOptions.offset)[1]),\n    f: transformationOptions.fetch_format,\n    g: transformationOptions.gravity,\n    pg: transformationOptions.page,\n    p: transformationOptions.prefix,\n    so: normRangeValues(splitRange(transformationOptions.offset)[0]),\n    sp: transformationOptions.streaming_profile,\n    vc: processVideoParams(transformationOptions.video_codec),\n    vs: transformationOptions.video_sampling\n  };\n  // We can accept variables in here transformationOptions, or in here transformationOptions.variables\n  const variables = Object.entries(transformationOptions).filter(_ref2 => {\n    let [key, value] = _ref2;\n    return key.startsWith('$');\n  }).map(_ref3 => {\n    let [key, value] = _ref3;\n    // delete transformationOptions[key]; // Delete the variables, so we don't add them twice\n    return `${key}_${legacyNormalizeExpression(value)}`;\n  }).sort().concat(\n  // @ts-ignore\n  (transformationOptions.variables || []).map(_ref4 => {\n    let [name, value] = _ref4;\n    return `${name}_${legacyNormalizeExpression(value)}`;\n  })).join(',');\n  // Clean up!\n  const urlImageTransfomrations = Object.entries(urlParams).filter(_ref5 => {\n    let [key, value] = _ref5;\n    if (typeof value === 'undefined' || value === null) {\n      return false;\n    }\n    if (typeof value === 'string' && value.length === 0) {\n      return false;\n    }\n    if (Array.isArray(value) && value.length === 0) {\n      return false;\n    }\n    return true;\n  }).map(_ref6 => {\n    let [key, value] = _ref6;\n    return `${key}_${value}`;\n  }).sort().join(',');\n  const finalTransformationString = [ifValue, variables, urlImageTransfomrations, transformationOptions.raw_transformation].filter(a => a).join(\",\");\n  if (finalTransformationString) {\n    childTransformations.push(finalTransformationString);\n  }\n  // console.log(childTransformations);\n  return childTransformations.join(\"/\");\n}","map":{"version":3,"names":["processLayer","process_if","toArray","processRadius","isObject","processCustomFunction","processCustomPreFunction","splitRange","legacyNormalizeExpression","normRangeValues","processVideoParams","generateTransformationString","transformationOptions","Array","isArray","map","singleTransformation","filter","a","console","log","join","width","height","size","hasLayer","overlay","underlay","crop","angle","background","replace","color","flags","dpr","radius","ifValue","if","custom_function","custom_pre_function","fps","namedTransformations","childTransformations","transformation","effect","no_html_sizes","sizeWidth","sizeHeight","split","toString","indexOf","parseFloat","isAnyChildAnObject","some","Object","entries","_ref","key","value","border","exec","urlParams","ar","aspect_ratio","b","bo","c","co","e","fl","fn","h","ki","keyframe_interval","l","o","opacity","q","quality","r","t","u","w","x","y","z","zoom","ac","audio_codec","af","audio_frequency","br","bit_rate","cs","color_space","d","default_image","dl","delay","dn","density","du","duration","eo","offset","f","fetch_format","g","gravity","pg","page","p","prefix","so","sp","streaming_profile","vc","video_codec","vs","video_sampling","variables","_ref2","startsWith","_ref3","sort","concat","_ref4","name","urlImageTransfomrations","_ref5","length","_ref6","finalTransformationString","raw_transformation","push"],"sources":["D:/VSCode/Project_Market_Place/client/node_modules/@cloudinary/base/backwards/generateTransformationString.js"],"sourcesContent":["import { processLayer } from \"./transformationProcessing/processLayer\";\nimport { process_if } from \"./transformationProcessing/processIf\";\nimport { toArray } from \"./utils/toArray\";\nimport { processRadius } from \"./transformationProcessing/processRadius\";\nimport { isObject } from \"./utils/isObject\";\nimport { processCustomFunction } from \"./transformationProcessing/processCustomFunction\";\nimport { processCustomPreFunction } from \"./transformationProcessing/processCustomPreFunction\";\nimport { splitRange } from \"./utils/splitRange\";\nimport { legacyNormalizeExpression } from \"./utils/legacyNormalizeExpression\";\nimport { normRangeValues } from \"./utils/norm_range_values\";\nimport { processVideoParams } from \"./transformationProcessing/processVideoParams\";\n/**\n * Things dropped\n * - responsive_width\n * - config().dpr\n * - SSL Detected\n * - Provisioning API\n * - Magical configuration auto-mapping (everything has to be explicit)\n * - Signatures\n * - Secure is default true\n * @param transformationOptions\n */\nexport function generateTransformationString(transformationOptions) {\n    if (typeof transformationOptions === 'string') {\n        return transformationOptions;\n    }\n    if (Array.isArray(transformationOptions)) {\n        return transformationOptions\n            .map((singleTransformation) => {\n            return generateTransformationString(singleTransformation);\n        }).filter((a) => { console.log(a); return a; }).join('/');\n    }\n    // let responsive_width = consumeOption(transformationOptions, \"responsive_width\", config().responsive_width);\n    let width;\n    let height;\n    const size = transformationOptions.size;\n    const hasLayer = transformationOptions.overlay || transformationOptions.underlay;\n    const crop = transformationOptions.crop;\n    const angle = toArray(transformationOptions.angle).join(\".\");\n    const background = (transformationOptions.background || '').replace(/^#/, \"rgb:\");\n    const color = (transformationOptions.color || '').replace(/^#/, \"rgb:\");\n    const flags = (toArray(transformationOptions.flags || [])).join('.');\n    const dpr = transformationOptions.dpr;\n    const overlay = processLayer(transformationOptions.overlay);\n    const radius = processRadius(transformationOptions.radius);\n    const underlay = processLayer(transformationOptions.underlay);\n    const ifValue = process_if(transformationOptions.if);\n    const custom_function = processCustomFunction(transformationOptions.custom_function);\n    const custom_pre_function = processCustomPreFunction(transformationOptions.custom_pre_function);\n    // These will change down the line, heads up!\n    let fps = transformationOptions.fps;\n    let namedTransformations = [];\n    let childTransformations = toArray(transformationOptions.transformation || []);\n    let effect = transformationOptions.effect;\n    // TODO, Do we need this?\n    const no_html_sizes = hasLayer || angle || crop === \"fit\" || crop === \"limit\";\n    if (size) {\n        const [sizeWidth, sizeHeight] = size.split(\"x\");\n        width = sizeWidth;\n        height = sizeHeight;\n    }\n    else {\n        width = transformationOptions.width;\n        height = transformationOptions.height;\n    }\n    if (width && (width.toString().indexOf(\"auto\") === 0 || no_html_sizes || parseFloat(width.toString()) < 1)) {\n        delete transformationOptions.width;\n    }\n    if (height && (no_html_sizes || parseFloat(height.toString()) < 1)) {\n        delete transformationOptions.height;\n    }\n    // Is any child transformation an object?\n    const isAnyChildAnObject = childTransformations.some((transformation) => typeof transformation === 'object');\n    // If array of objects, or array of strings?\n    if (isAnyChildAnObject) {\n        childTransformations = childTransformations.map((transformation) => {\n            if (isObject(transformation)) {\n                return generateTransformationString(transformation);\n            }\n            else {\n                return generateTransformationString({ transformation });\n            }\n        }).filter((a) => a);\n    }\n    else {\n        namedTransformations = childTransformations.join(\".\");\n        childTransformations = []; // Reset child transfomrations\n    }\n    if (Array.isArray(effect)) {\n        effect = effect.join(\":\");\n    }\n    else if (isObject(effect)) {\n        effect = Object.entries(effect).map(([key, value]) => `${key}:${value}`);\n    }\n    let border = transformationOptions.border;\n    if (isObject(border)) {\n        border = `${border.width != null ? border.width : 2}px_solid_${(border.color != null ? border.color : \"black\").replace(/^#/, 'rgb:')}`;\n    }\n    else {\n        // @ts-ignore\n        if (/^\\d+$/.exec(border)) { // fallback to html border attributes\n            transformationOptions.border = border;\n            border = void 0;\n        }\n    }\n    if (Array.isArray(fps)) {\n        fps = fps.join('-');\n    }\n    // ocr(value) {\n    //   return this.param(value, \"ocr\", \"ocr\");\n    // }\n    const urlParams = {\n        a: legacyNormalizeExpression(angle),\n        ar: legacyNormalizeExpression(transformationOptions.aspect_ratio),\n        b: background,\n        bo: border,\n        c: crop,\n        co: color,\n        dpr: legacyNormalizeExpression(dpr),\n        e: legacyNormalizeExpression(effect),\n        fl: flags,\n        fn: custom_function || custom_pre_function,\n        fps: fps,\n        h: legacyNormalizeExpression(height),\n        ki: legacyNormalizeExpression(transformationOptions.keyframe_interval),\n        l: overlay,\n        o: legacyNormalizeExpression(transformationOptions.opacity),\n        q: legacyNormalizeExpression(transformationOptions.quality),\n        r: radius,\n        t: namedTransformations,\n        u: underlay,\n        w: legacyNormalizeExpression(width),\n        x: legacyNormalizeExpression(transformationOptions.x),\n        y: legacyNormalizeExpression(transformationOptions.y),\n        z: legacyNormalizeExpression(transformationOptions.zoom),\n        ac: transformationOptions.audio_codec,\n        af: transformationOptions.audio_frequency,\n        br: transformationOptions.bit_rate,\n        cs: transformationOptions.color_space,\n        d: transformationOptions.default_image,\n        dl: transformationOptions.delay,\n        dn: transformationOptions.density,\n        du: normRangeValues(transformationOptions.duration),\n        eo: normRangeValues(splitRange(transformationOptions.offset)[1]),\n        f: transformationOptions.fetch_format,\n        g: transformationOptions.gravity,\n        pg: transformationOptions.page,\n        p: transformationOptions.prefix,\n        so: normRangeValues(splitRange(transformationOptions.offset)[0]),\n        sp: transformationOptions.streaming_profile,\n        vc: processVideoParams(transformationOptions.video_codec),\n        vs: transformationOptions.video_sampling\n    };\n    // We can accept variables in here transformationOptions, or in here transformationOptions.variables\n    const variables = Object.entries(transformationOptions)\n        .filter(([key, value]) => key.startsWith('$'))\n        .map(([key, value]) => {\n        // delete transformationOptions[key]; // Delete the variables, so we don't add them twice\n        return `${key}_${legacyNormalizeExpression(value)}`;\n    }).sort().concat(\n    // @ts-ignore\n    (transformationOptions.variables || []).map(([name, value]) => `${name}_${legacyNormalizeExpression(value)}`)).join(',');\n    // Clean up!\n    const urlImageTransfomrations = Object.entries(urlParams)\n        .filter(([key, value]) => {\n        if (typeof value === 'undefined' || value === null) {\n            return false;\n        }\n        if (typeof value === 'string' && value.length === 0) {\n            return false;\n        }\n        if (Array.isArray(value) && value.length === 0) {\n            return false;\n        }\n        return true;\n    })\n        .map(([key, value]) => `${key}_${value}`)\n        .sort()\n        .join(',');\n    const finalTransformationString = [\n        ifValue,\n        variables,\n        urlImageTransfomrations,\n        transformationOptions.raw_transformation\n    ].filter((a) => a).join(\",\");\n    if (finalTransformationString) {\n        childTransformations.push(finalTransformationString);\n    }\n    // console.log(childTransformations);\n    return childTransformations.join(\"/\");\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}