{"ast":null,"code":"import _regeneratorRuntime from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../Login/main.css\";import\"../Login/util.css\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from'axios';import'react-toastify/dist/ReactToastify.css';import{ToastContainer}from'../toast';import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setname=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var navigate=useNavigate();useEffect(function(){var token=localStorage.getItem('token');axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/\"),{headers:{Authorization:token}}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:navigate('/');case 1:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(error){navigate('/register');});},[]);function RegisterClick(){axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/register\"),{username:username,name:name,password:password}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(res){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!res.data.success){toast.warn(\"\".concat(res.data.message),{position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});navigate('/register');}else{toast.success(\"\".concat(res.data.message+\". Open the Email and click on the link to register.\"),{position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});setTimeout(function(){navigate('/login');},5000);}case 1:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());}function LoginClick(){navigate('/login');}var rules=[{required:true,message:'Required'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"limiter\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-login100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrap-login100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login100-form validate-form p-l-55 p-r-55 p-t-178\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input m-b-16\",\"data-validate\":\"Please enter Email\",children:[/*#__PURE__*/_jsx(\"input\",{rules:rules,className:\"input100\",type:\"text\",name:\"username\",placeholder:\"Email\",onChange:function onChange(event){return setUsername(event.target.value);},value:username}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input m-b-16\",\"data-validate\":\"Please enter Your name\",children:[/*#__PURE__*/_jsx(\"input\",{rules:rules,className:\"input100\",type:\"text\",name:\"name\",placeholder:\"Name\",onChange:function onChange(event){return setname(event.target.value);},value:name}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",\"data-validate\":\"Please enter password\",children:[/*#__PURE__*/_jsx(\"input\",{rules:rules,className:\"input100\",type:\"password\",name:\"password\",placeholder:\"Password\",onChange:function onChange(event){return setPassword(event.target.value);},value:password}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-login100-form-btn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"login100-form-btn\",onClick:RegisterClick,children:\"Register\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-col-c p-t-100 p-b-40\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"txt1 p-b-9\",children:\"Already have an account?\"}),/*#__PURE__*/_jsx(\"a\",{onClick:LoginClick,href:\"/login\",className:\"txt3\",children:\"Login\"})]})]})})})]});}export default Register;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Register","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","name","setname","_useState5","_useState6","password","setPassword","navigate","token","localStorage","getItem","get","concat","process","env","REACT_APP_BACKEND_URL","headers","Authorization","then","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","stop","_x","apply","arguments","catch","error","RegisterClick","post","_ref2","_callee2","_callee2$","_context2","data","success","warn","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","setTimeout","_x2","LoginClick","rules","required","className","children","type","placeholder","onChange","event","target","value","onClick","href"],"sources":["D:/VSCode/Project_Market_Place/client/src/components/Register/Register.jsx"],"sourcesContent":["import \"../Login/main.css\";\r\nimport \"../Login/util.css\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useNavigate} from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {ToastContainer} from '../toast';\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction Register() {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [name, setname] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");    \r\n    const navigate = useNavigate();\r\n    useEffect(()=>{\r\n        const token = localStorage.getItem('token');\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/`, { headers : {\r\n            Authorization: token,\r\n        }}).then(async (res) =>{\r\n            navigate('/');\r\n        })\r\n        .catch((error) => \r\n        {\r\n            navigate('/register');\r\n        });\r\n    },[]);\r\n    function RegisterClick() {\r\n        axios.post(`${process.env.REACT_APP_BACKEND_URL}/register`, {\r\n            username: username,\r\n            name: name,\r\n            password: password\r\n        }).then(async (res) => {\r\n            if(!res.data.success)\r\n            {\r\n                toast.warn(`${res.data.message}`, {\r\n                    position: \"top-center\",\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    theme: \"light\",\r\n                });\r\n                navigate('/register');\r\n            }\r\n            else\r\n            {\r\n                toast.success(`${res.data.message + \". Open the Email and click on the link to register.\"}`, {\r\n                    position: \"top-center\",\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    theme: \"light\",\r\n                    });\r\n                setTimeout(() => {\r\n                    navigate('/login');\r\n                }, 5000);\r\n            }\r\n        });\r\n    }\r\n\r\n    function LoginClick() {\r\n        navigate('/login');\r\n    }\r\n    const rules = [\r\n        {\r\n            required:true,\r\n            message: 'Required'\r\n        }\r\n    ];\r\n    return <div className=\"limiter\">\r\n        <ToastContainer/>\r\n    <div className=\"container-login100\">\r\n        <div className=\"wrap-login100\">\r\n            <div className=\"login100-form validate-form p-l-55 p-r-55 p-t-178\">\r\n                <span className=\"login100-form-title\">\r\n                    Register\r\n                </span>\r\n\r\n                <div className=\"wrap-input100 validate-input m-b-16\" data-validate=\"Please enter Email\">\r\n                    <input rules={rules} className=\"input100\" type=\"text\" name=\"username\" placeholder=\"Email\" onChange={event => setUsername(event.target.value)} value={username} ></input>\r\n                    <span className=\"focus-input100\"></span>\r\n                </div>\r\n\r\n                <div className=\"wrap-input100 validate-input m-b-16\" data-validate=\"Please enter Your name\">\r\n                    <input rules={rules} className=\"input100\" type=\"text\" name=\"name\" placeholder=\"Name\" onChange={event => setname(event.target.value)} value={name} ></input>\r\n                    <span className=\"focus-input100\"></span>\r\n                </div>\r\n\r\n                <div className=\"wrap-input100 validate-input\" data-validate = \"Please enter password\">\r\n                    <input rules={rules} className=\"input100\" type=\"password\" name=\"password\" placeholder=\"Password\" onChange={event => setPassword(event.target.value)} value={password}></input>\r\n                    <span className=\"focus-input100\"></span>\r\n                </div>\r\n\r\n                {/* <div className=\"text-right p-t-13 p-b-23\">\r\n                    <span className=\"txt1\">\r\n                        Forgot\r\n                    </span>\r\n\r\n                    <a href=\"#\" className=\"txt2\">\r\n                        Username / Password?\r\n                    </a>\r\n                </div> */}\r\n\r\n                <div className=\"container-login100-form-btn\">\r\n                    <button className=\"login100-form-btn\" onClick={RegisterClick}>\r\n                        Register\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"flex-col-c p-t-100 p-b-40\">\r\n                    <span className=\"txt1 p-b-9\">\r\n                        Already have an account?\r\n                    </span>\r\n                    <a onClick={LoginClick} href='/login'className=\"txt3\" >\r\n                        Login\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n}\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}