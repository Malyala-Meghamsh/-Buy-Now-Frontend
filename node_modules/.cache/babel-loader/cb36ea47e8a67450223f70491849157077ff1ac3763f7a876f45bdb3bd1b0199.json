{"ast":null,"code":"import _regeneratorRuntime from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../Login/main.css\";import\"../Login/util.css\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from'axios';import'react-toastify/dist/ReactToastify.css';import{ToastContainer}from'../toast';import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];// useEffect\nuseEffect(function(){var token=localStorage.getItem('token');axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/\"),{headers:{Authorization:token}}).then(function(res){navigate('/');}).catch(function(err){});},[]);var LogInClick=function LogInClick(){axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/login\"),{username:username,password:password}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!res.data.success){toast.error(\"\".concat(res.data.message),{position:\"top-center\",autoClose:3000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});navigate('/login');}else{localStorage.setItem('token',res.data.token);navigate('/');}case 1:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(err){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:toast.error(\"\".concat(err),{position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"dark\"});case 1:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());};function RegisterClick(){navigate('/register');}return/*#__PURE__*/_jsxs(\"div\",{className:\"limiter\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-login100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrap-login100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login100-form validate-form p-l-55 p-r-55 p-t-178\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input m-b-16\",\"data-validate\":\"Please enter username\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"text\",name:\"username\",placeholder:\"Username\",onChange:function onChange(event){return setUsername(event.target.value);},value:username}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input\",\"data-validate\":\"Please enter password\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input100\",type:\"password\",name:\"password\",placeholder:\"Password\",onChange:function onChange(event){return setPassword(event.target.value);},value:password}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-login100-form-btn\",onClick:LogInClick,children:/*#__PURE__*/_jsx(\"button\",{className:\"login100-form-btn\",children:\"Login\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-col-c p-t-100 p-b-40\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"txt1 p-b-9\",children:\"Don\\u2019t have an account?\"}),/*#__PURE__*/_jsx(\"a\",{onClick:RegisterClick,href:\"/register\",className:\"txt3\",children:\"Register\"})]})]})})})]});//     <div className=\"limiter\">\n//     <input type=\"text\" placeholder=\"Enter Username\" value={username} onChange={event => setUsername(event.target.value)}/>\n//     <input type=\"password\" placeholder=\"Enter Password\" value={password} onChange={event => setPassword(event.target.value)}/>\n//     <button onClick={LogInClick}>Submit</button>\n// </div> \n}export default Login;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Login","navigate","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","token","localStorage","getItem","get","concat","process","env","REACT_APP_BACKEND_URL","headers","Authorization","then","res","catch","err","LogInClick","post","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","data","success","error","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","setItem","stop","_x","apply","arguments","_ref2","_callee2","_callee2$","_context2","_x2","RegisterClick","className","children","type","name","placeholder","onChange","event","target","value","onClick","href"],"sources":["D:/VSCode/Project_Market_Place/client/src/components/Login/Login.jsx"],"sourcesContent":["import \"../Login/main.css\";\r\nimport \"../Login/util.css\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useNavigate} from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {ToastContainer} from '../toast';\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction Login() {\r\n    const navigate = useNavigate();\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");    \r\n    // useEffect\r\n    useEffect(()=>{\r\n        const token = localStorage.getItem('token');\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/`, { headers : {\r\n            Authorization: token,\r\n        }}).then(res => {\r\n            navigate('/');\r\n        }).catch( err => {\r\n        })\r\n    }, [])\r\n    const LogInClick = () => {\r\n\r\n        axios.post(`${process.env.REACT_APP_BACKEND_URL}/login`, {username, password}).then(async res => {\r\n            if(!res.data.success){\r\n                toast.error(`${res.data.message}`, {\r\n                    position: \"top-center\",\r\n                    autoClose: 3000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    theme: \"light\",\r\n                    });\r\n                navigate('/login');\r\n            }\r\n            else\r\n            {\r\n                localStorage.setItem('token', res.data.token)\r\n                navigate('/');\r\n            }\r\n        }).catch(async err => {\r\n            toast.error(`${err}`, {\r\n                position: \"top-center\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                theme: \"dark\",\r\n            });\r\n        })\r\n    }\r\n\r\n    function RegisterClick() {\r\n        navigate('/register');\r\n    }\r\n    return <div className=\"limiter\">\r\n        <ToastContainer/>\r\n    <div className=\"container-login100\">\r\n        <div className=\"wrap-login100\">\r\n            <div className=\"login100-form validate-form p-l-55 p-r-55 p-t-178\">\r\n                <span className=\"login100-form-title\">\r\n                    Login\r\n                </span>\r\n\r\n                <div className=\"wrap-input100 validate-input m-b-16\" data-validate=\"Please enter username\">\r\n                    <input className=\"input100\" type=\"text\" name=\"username\" placeholder=\"Username\" onChange={event => setUsername(event.target.value)} value={username} />\r\n                    <span className=\"focus-input100\"></span>\r\n                </div>\r\n\r\n                <div className=\"wrap-input100 validate-input\" data-validate = \"Please enter password\">\r\n                    <input className=\"input100\" type=\"password\" name=\"password\" placeholder=\"Password\" onChange={event => setPassword(event.target.value)} value={password}/>\r\n                    <span className=\"focus-input100\"></span>\r\n                </div>\r\n                <div>\r\n                {/* <div className=\"text-right p-t-13 p-b-23\">\r\n                    <span className=\"txt1\">\r\n                    Forgot\r\n                    </span>\r\n                    \r\n                    <a href=\"#\" className=\"txt2\">\r\n                    Username / Password?\r\n                    </a>\r\n                </div> */}\r\n                </div>\r\n\r\n                <div className=\"container-login100-form-btn\" onClick={LogInClick}>\r\n                    <button className=\"login100-form-btn\">\r\n                        Login\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"flex-col-c p-t-100 p-b-40\">\r\n                    <span className=\"txt1 p-b-9\">\r\n                        Donâ€™t have an account?\r\n                    </span>\r\n                    <a onClick={RegisterClick} href='/register'className=\"txt3\" >\r\n                        Register\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n//     <div className=\"limiter\">\r\n//     <input type=\"text\" placeholder=\"Enter Username\" value={username} onChange={event => setUsername(event.target.value)}/>\r\n//     <input type=\"password\" placeholder=\"Enter Password\" value={password} onChange={event => setPassword(event.target.value)}/>\r\n//     <button onClick={LogInClick}>Submit</button>\r\n// </div> \r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}