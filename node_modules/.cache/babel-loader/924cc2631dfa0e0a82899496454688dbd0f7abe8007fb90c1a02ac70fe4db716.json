{"ast":null,"code":"import _regeneratorRuntime from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/VSCode/Project_Market_Place/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useEffect,useState}from\"react\";import ReactDOM from\"react-dom\";import{useNavigate}from\"react-router-dom\";import axios from'axios';import\"../ProductsBidsDisplay/ProductsBidsDisplay.css\";import'react-toastify/dist/ReactToastify.css';import{ToastContainer}from'../../toast';import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProductsBidsDisplay(_ref){var closeBidsModal=_ref.closeBidsModal,prod=_ref.prod;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bids=_useState2[0],setBids=_useState2[1];var sortByPrice=function sortByPrice(bidss){var sorted=bidss.sort(function(a,b){return b.price-a.price;});setBids(sorted);};useEffect(function(){var token=localStorage.getItem('token');axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/product/\").concat([prod._id]),{headers:{Authorization:token}}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:sortByPrice(res.data.bids);case 1:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-wrapperbids\",onClick:closeBidsModal}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-containerbids\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Bids Placed for this product\"}),/*#__PURE__*/_jsxs(\"table\",{class:\"table-fill\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{class:\"text-left\",children:\"Bidder Name\"}),/*#__PURE__*/_jsx(\"th\",{class:\"text-left\",children:\"Bidder Mobile Number\"}),/*#__PURE__*/_jsx(\"th\",{class:\"text-left\",children:\"Bidded On\"}),/*#__PURE__*/_jsx(\"th\",{class:\"text-left\",children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{class:\"text-left\",children:\"Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{class:\"table-hover\",children:bids.map(function(bid){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{class:\"text-left\",children:bid.bidderName}),/*#__PURE__*/_jsx(\"td\",{class:\"text-left\",children:bid.bidderMobileNumber}),/*#__PURE__*/_jsx(\"td\",{class:\"text-left\",children:bid.biddedOn}),/*#__PURE__*/_jsx(\"td\",{class:\"text-left\",children:bid.message}),/*#__PURE__*/_jsx(\"td\",{class:\"text-left\",children:bid.price})]});})})]})]})]}),document.getElementById(\"myModal\"));};export default ProductsBidsDisplay;","map":{"version":3,"names":["React","useEffect","useState","ReactDOM","useNavigate","axios","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductsBidsDisplay","_ref","closeBidsModal","prod","_useState","_useState2","_slicedToArray","bids","setBids","sortByPrice","bidss","sorted","sort","a","b","price","token","localStorage","getItem","get","concat","process","env","REACT_APP_BACKEND_URL","_id","headers","Authorization","then","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","data","stop","_x","apply","arguments","catch","err","console","log","createPortal","children","className","onClick","class","map","bid","bidderName","bidderMobileNumber","biddedOn","message","document","getElementById"],"sources":["D:/VSCode/Project_Market_Place/client/src/components/Profile/ProductsBidsDisplay/ProductsBidsDisplay.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { useNavigate} from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nimport \"../ProductsBidsDisplay/ProductsBidsDisplay.css\";\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {ToastContainer} from '../../toast';\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction ProductsBidsDisplay({closeBidsModal, prod}){\r\n    const [bids, setBids] = useState([]);\r\n    const sortByPrice = (bidss) => {\r\n        const sorted = bidss.sort((a, b) => {\r\n          return b.price - a.price;\r\n        });\r\n        setBids(sorted);\r\n    };\r\n    useEffect(()=>{\r\n        const token = localStorage.getItem('token');\r\n        axios.get( `${process.env.REACT_APP_BACKEND_URL}/product/${[prod._id]}`, { headers : {\r\n            Authorization: token,\r\n        }}).then(async (res) =>{\r\n            sortByPrice(res.data.bids);\r\n        }).catch(err=>\r\n            console.log(err)\r\n        )\r\n    },[])\r\n    return ReactDOM.createPortal(<>\r\n        <div className=\"modal-wrapperbids\" onClick={closeBidsModal}>\r\n        </div>\r\n            <ToastContainer/>\r\n            <div className=\"modal-containerbids\">\r\n                <h2>Bids Placed for this product</h2>\r\n            <table class=\"table-fill\">\r\n            <thead>\r\n            <tr>\r\n            <th class=\"text-left\">Bidder Name</th>\r\n            <th class=\"text-left\">Bidder Mobile Number</th>\r\n            <th class=\"text-left\">Bidded On</th>\r\n            <th class=\"text-left\">Message</th>\r\n            <th class=\"text-left\">Price</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody class=\"table-hover\">\r\n                {bids.map(bid =>{\r\n                    return <tr>\r\n                    <td class=\"text-left\">{bid.bidderName}</td>\r\n                    <td class=\"text-left\">{bid.bidderMobileNumber}</td>\r\n                    <td class=\"text-left\">{bid.biddedOn}</td>\r\n                    <td class=\"text-left\">{bid.message}</td>\r\n                    <td class=\"text-left\">{bid.price}</td>\r\n                    </tr>\r\n                })}\r\n            </tbody>\r\n            </table>\r\n            </div>\r\n    </>, document.getElementById(\"myModal\"));\r\n};\r\n\r\nexport default ProductsBidsDisplay;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}